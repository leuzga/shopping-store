<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form-container">
  <!-- Email Field -->
  <div class="form-field">
    <label class="label" for="email">
      <span class="label-text font-medium">Email</span>
    </label>
    <input
      id="email"
      type="email"
      formControlName="email"
      placeholder="tu@email.com"
      class="input input-bordered w-full"
      [class.input-error]="emailError()"
      (blur)="onFieldBlur('email')"
    />
    @if (emailError()) {
      <p class="error-message">{{ emailError() }}</p>
    }
  </div>

  <!-- Password Field -->
  <div class="form-field">
    <label class="label" for="password">
      <span class="label-text font-medium">Contraseña</span>
    </label>
    <input
      id="password"
      type="password"
      formControlName="password"
      placeholder="••••••••"
      class="input input-bordered w-full"
      [class.input-error]="passwordError()"
      (blur)="onFieldBlur('password')"
    />
    @if (passwordError()) {
      <p class="error-message">{{ passwordError() }}</p>
    }
  </div>

  <!-- Remember Me -->
  <div class="form-checkbox">
    <label class="label cursor-pointer" for="rememberMe">
      <input
        id="rememberMe"
        type="checkbox"
        formControlName="rememberMe"
        class="checkbox checkbox-primary"
      />
      <span class="label-text ml-2">Recuérdame</span>
    </label>
  </div>

  <!-- Submit Button -->
  <button
    type="submit"
    class="submit-button"
    [disabled]="!loginForm.valid || isLoading()"
  >
    @if (isLoading()) {
      <span class="loading loading-spinner loading-xs"></span>
      Iniciando sesión...
    } @else {
      Iniciar Sesión
    }
  </button>
</form>
